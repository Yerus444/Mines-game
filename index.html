<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mines</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin: 20px; }
        .grid { display: grid; grid-template-columns: repeat(5, 50px); gap: 5px; margin: 20px auto; }
        .cell { width: 50px; height: 50px; background: #ccc; display: flex; align-items: center; justify-content: center; cursor: pointer; }
        .cell.revealed { background: #fff; }
        .cell.mine { background: red; color: white; }
    </style>
</head>
<body>
    <h1>Mines</h1>
    <div class="grid" id="grid"></div>
    <p id="message"></p>

    <script>
        const grid = document.getElementById("grid");
        const message = document.getElementById("message");
        const size = 5; // Размер поля
        const minesCount = 3; // Количество мин

        // Создаем массив поля с минами
        const createGrid = () => {
            const cells = Array(size * size).fill(0);
            for (let i = 0; i < minesCount; i++) {
                let randomIndex;
                do {
                    randomIndex = Math.floor(Math.random() * cells.length);
                } while (cells[randomIndex] === 1);
                cells[randomIndex] = 1;
            }
            return cells;
        };

        const mines = createGrid();

        // Рендер поля
        mines.forEach((mine, index) => {
            const cell = document.createElement("div");
            cell.className = "cell";
            cell.addEventListener("click", () => handleClick(cell, mine));
            grid.appendChild(cell);
        });

        // Обработка кликов
        const handleClick = (cell, mine) => {
            if (mine) {
                cell.classList.add("mine");
                message.textContent = "Вы проиграли!";
                revealAll();
            } else {
                cell.classList.add("revealed");
                message.textContent = "Продолжайте играть!";
            }
        };

        // Показываем все мины
        const revealAll = () => {
            Array.from(grid.children).forEach((cell, i) => {
                if (mines[i]) cell.classList.add("mine");
                cell.style.pointerEvents = "none";
            });
        };
    </script>
</body>
</html>
